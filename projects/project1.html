<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Phoneme Mask</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="../style.css"> 
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.3.0/model-viewer.min.js"></script>
    <link rel="icon" type="image/png" href="../attachments/mask.ico">
</head>
<body>
    <header class="header">
        <a href="../index.html" class="home">üè†</a>
        <a href="../about.html" class="logo">Triplaqs</a>
    </header>

    <main class="project-container">
        
        <h1 class="project-title">Phoneme Mask Animation</h1>
        <p class="project-intro">Animation of a 3D Mask's phonemes according to user input.</p>
        <a href="https://github.com/Triplaqs/Phoneme-Mask" class="custom-link"><i class="fa-brands fa-github"></i> <em> Github Link</em> <i class="fa fa-external-link" aria-hidden="true"></i></a>

        <section class="visual-block">
            <h3>3D Foundations</h3>
            <p>I sculpted a 3D bust on Blender. </p>
            <div class="white-frame">
                 <img src="../attachments/sculpt.png" alt="Bust on Blender">
            </div>
            <p>Here's a 3D view of the Bust:</p>
            <model-viewer 
                src="../attachments/bustonly.glb" 
                alt="Bust displayed in 3D" 
                auto-rotate 
                camera-controls>
            </model-viewer>
            <p>Then I did the retopology of a surface mesh mask around the face.  </p>
            <div class="white-frame">
                 <img src="../attachments/maskface.png" alt="Mask on Blender">
            </div>
            <p>Here's a 3D view of the Mask:</p>
            <model-viewer 
                src="../attachments/maskonly.glb" 
                alt="Mask displayed in 3D" 
                auto-rotate 
                camera-controls>
            </model-viewer>
        </section>

        <section class="visual-block">
            <h3>Pipeline to C++ and OpenGL</h3>
            <p>After completing the 3D Mask, I exported the vertexes of the file with a Python script ran directly in Blender (<nobr><a href="https://github.com/Triplaqs/Phoneme-Mask/blob/main/scripts/extract_vertices_edges.py" class="custom-link"> here's the link to the file</em> <i class="fa fa-external-link" aria-hidden="true"></i></a></nobr>).
                The script writes the data directly into a C++ file included in my main.cpp with a header (in which I made the data set extern to be able to reach it everywhere).
                <br>From there, I could use OpenGL to display the mask in a window as followed:
            </p>
            <div class="white-frame">   
                 <img src="../attachments/neutral_face.png" alt="Mask displayed on OpenGL">
            </div>
        </section>

        <section class="visual-block">
            <h3>Animation</h3>
            <p>I made all the phonemes (mouth shapes associated with a specific sound) in Blender. Then I exported them all in my C++ project.
                <br>Then I displayed a set of vertices that I interpolated from a phoneme to another one. Here's a sample of the transition from neutral face to "a" phoneme:
            </p>
            <div class="white-frame">   
                 <img src="../attachments/neutral_to_a.gif" alt="Sample of Mask animation">
            </div>
        </section>

        <section class="visual-block">
            <h3>Speaking</h3>
            <p>
                Now, we can animate a succession of phonemes, let's give sense to it. We want to animate sentences, and any sentence.
                <br>So I made a dictionnary/map that associates a sequence of letters to a phoneme id number (<em>cf</em> next picture).
            </p>
            <div class="white-frame">   
                 <img src="../attachments/translate.png" alt="Phonemes dictionnary">
            </div>
            <p>
                After improving the interpolating system in order to be able to do it successively. And after making algorithms to manipulate strings to turn them into sequences of phonemes id numbers:
                <br>I could finally develop the feature; make the mask animated to visually pronounce the user's sentence input.
            </p>
            <!--<div class="white-frame">   
                 <img src="../attachments/speak.gif" alt="Sample of Mask speaking">
            </div>-->
        </section>
    </main>
</body>
</html>